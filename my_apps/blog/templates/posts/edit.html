{% extends "base.html" %}
{% load static %}

{% block title %}Editar post | {{ post.title }}{% endblock %}

{% block content %}

<div class="container py-5">

<!-- ===== HEADER ===== -->
<div class="mb-4">
    <h2 class="fw-bold text-success">
        ‚úèÔ∏è Editar post
    </h2>
    <p class="text-muted mb-0">
        Est√°s editando el post: <strong>{{ post.title }}</strong>
    </p>
</div>

<div class="row justify-content-center">
    <div class="col-lg-8">

        <div class="card shadow-sm border-0 rounded-4">
            <div class="card-body p-4">

                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}

                    <!-- T√çTULO -->
                    <div class="mb-3">
                        <label class="form-label fw-semibold">
                            {{ form.title.label }}
                        </label>
                        {{ form.title }}
                        {% if form.title.errors %}
                            <div class="text-danger small">
                                {{ form.title.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <!-- CONTENIDO -->
                    <div class="mb-3">
                        <label class="form-label fw-semibold">
                            {{ form.body.label }}
                        </label>
                        {{ form.body }}
                        {% if form.body.errors %}
                            <div class="text-danger small">
                                {{ form.body.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <!-- IMAGEN -->
                    <div class="mb-3">
                        <label class="form-label fw-semibold">
                            {{ form.image.label }}
                        </label>

                        {% if post.image %}
                            <div class="mb-2">
                                <img src="{{ post.image.url }}"
                                     class="img-fluid rounded-3 shadow-sm"
                                     style="max-height: 200px;"
                                     alt="Imagen actual">
                            </div>
                        {% endif %}

                        {{ form.image }}
                        {% if form.image.errors %}
                            <div class="text-danger small">
                                {{ form.image.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <!-- TAGS -->
                    <div class="mb-4">
                        <label class="form-label fw-semibold">
                            {{ form.tags.label }}
                        </label>
                        {{ form.tags }}
                        {% if form.tags.errors %}
                            <div class="text-danger small">
                                {{ form.tags.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <!-- BOTONES -->
                    <div class="d-flex justify-content-between align-items-center">
                        <a href="{{ post.get_absolute_url }}"
                           class="btn btn-outline-secondary rounded-pill">
                            ‚Üê Volver
                        </a>

                        <button type="submit"
                                class="btn btn-success rounded-pill px-4">
                            üíæ Guardar cambios
                        </button>
                    </div>

                </form>

            </div>
        </div>

    </div>
</div>

</div>
{% endblock %}
